<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>paper-steps Demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
    <script>
      // window.Polymer = {
      //   dom: 'shadow',
      //   lazyRegister: true
      // };
    </script>
		<link rel="import" href="../../paper-styles/demo-pages.html">
		<link rel="import" href="../../gold-email-input/gold-email-input.html">
		<link rel="import" href="../../gold-cc-input/gold-cc-input.html">
		<link rel="import" href="../../gold-cc-cvc-input/gold-cc-cvc-input.html">
		<link rel="import" href="../../gold-cc-expiration-input/gold-cc-expiration-input.html">
		<link rel="import" href="../../gold-phone-input/gold-phone-input.html">
		<link rel="import" href="../../gold-zip-input/gold-zip-input.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
		<link rel="import" href="../../iron-form/iron-form.html">
		<link rel="import" href="../../paper-button/paper-button.html">
		<link rel="import" href="../../paper-toggle-button/paper-toggle-button.html">
		<link rel="import" href="../../paper-input/paper-input.html">
		<link rel="import" href="../../paper-input/paper-textarea.html">
    <link rel="import" href="../paper-steps.html">
    <link rel="import" href="../paper-step.html">
    <style>
      demo-snippet.demo {
        max-width: 1100px;
        margin: auto;
      }
    </style>
  </head>
  <body unresolved>
    <demo-snippet class="demo">
      <p><code>&lt;paper-steps&gt;</code> is an implementation of material design <code>
          <a target="_blank" href="https://www.google.com/design/spec/components/steppers.html">steppers</a></code>.
      </p>
      <template>
        <p>
          <paper-toggle-button class="first" checked >Use horizontal layout if the screen is wide enough</paper-toggle-button>
        </p>
        <paper-steps class="first">
          <paper-step label="Create your store" continue-label="Create" >
            <h2>Setup Your Store</h2>
            <form is="iron-form" method="post" content-type="application/json"
              action="http://posttestserver.com/post.php?dir=paper-steps&dump&sleep=1">
              <paper-input name="domain" label="Domain" auto-validate required

                pattern="^(([a-zA-Z]{1})|([a-zA-Z]{1}[a-zA-Z]{1})|([a-zA-Z]{1}[0-9]{1})|([0-9]{1}[a-zA-Z]{1})|([a-zA-Z0-9][a-zA-Z0-9-_]{1,61}[a-zA-Z0-9]))\.([a-zA-Z]{2,6}|[a-zA-Z0-9-]{2,30}\.[a-zA-Z]{2,3})$"
              ></paper-input>
              <paper-input name="store_name" label="Store Name" auto-validate required></paper-input>
            </form>
          </paper-step>
          <paper-step label="Add contact information" continue-label="Add Info" optional editable>
            <h2>Contact Details</h2>
            <form is="iron-form" method="post" action="http://posttestserver.com/post.php?dir=paper-steps&dump&sleep=1">
              <gold-email-input name="email" label="Email" auto-validate required></gold-email-input>
              <gold-phone-input name="phone" label="Phone" auto-validate prevent-invalid-input></gold-phone-input>
            </form>
          </paper-step>
          <paper-step label="Enter street address" skip-label="Not Interested" optional>
            <h2>Store Location</h2>
            <form is="iron-form" method="post" action="http://posttestserver.com/post.php?dir=paper-steps&dump&sleep=1">
              <paper-input name="street" label="Street"></paper-input>
              <paper-input name="city" label="City"></paper-input>
              <paper-input name="state" label="State" auto-validate></paper-input>
              <gold-zip-input name="postal-code" label="Postal Code" auto-validate prevent-invalid-input></gold-zip-input>
              <paper-input name="country" label="Country" auto-validate></paper-input>
            </form>
          </paper-step>
          <paper-step label="Add billing information">
            <h2>Setup Monthly Subscription</h2>
            <form is="iron-form" method="post"  action="http://posttestserver.com/post.php?dir=paper-steps&dump&sleep=1">
              <paper-input name="name" label="Name" required></paper-input>
              <gold-cc-input name="card" label="Card" auto-validate required></gold-cc-input>
              <gold-cc-expiration-input name="expiration" label="Expiration" required></gold-cc-expiration-input>
            </form>
          </paper-step>
          <paper-step label="Terms &amp; conditions" continue-label="I agree">
            <h2>End User Agreement</h2>
            <form is="iron-form" method="post"  action="http://posttestserver.com/post.php?dir=paper-steps&dump&sleep=1">
              <p>
                By submitting this form you consent that you will abide by the example terms and
                conditions of this demo!
              </p>
            </form>
          </paper-step>
        </paper-steps>
        <script>
          document.querySelector('paper-toggle-button.first')
            .addEventListener('iron-change', function(e) {
            var steps = document.querySelector('paper-steps.first');

            if (steps.vertical == this.active) {
              steps.vertical = !this.active;
              steps._updateVertical();
            }
          });
        </script>
      </template>
    </demo-snippet>

    <demo-snippet class="demo">
      <p>Specify an initial step to begin on, for example to continue progress after a user leaves and then returns to the steps.</p>
      <template>
        <paper-steps class="second" initial-step="1">
          <paper-step label="Profile" editable>
            <h2>Already Completed</h2>
            <p>
              Previously entered or skipped content. Populating the details
              is handled through your own application.
            </p>
            <form is="iron-form" action="http://posttestserver.com/post.php?dir=paper-steps&dump" method="post">
              <paper-input name="name" label="Name" value="John Doe"></paper-input>
              <paper-input name="interests" label="Interests" value="Hacking HTML Web Components, Polymer Implementations"></paper-input>
            </form>
          </paper-step>
          <paper-step label="Second step">
            <h2>Return &amp; Begin Here</h2>
            <form is="iron-form" action="http://posttestserver.com/post.php?dir=paper-steps&dump" method="post">
              <paper-input name="foo" label="Foo Bar" placeholder="Your previously un-anwswered form input."></paper-input>
            </form>
          </paper-step>
        </paper-steps>
      </template>
    </demo-snippet>

    <demo-snippet class="demo">
      <p>
        This demo snippet showcases the following features of <strong>paper-steps</strong>:
      </p>
      <ul>
        <li>Override the primary <strong>color style</strong>.</li>
        <li>Require the steps to be completed in order by setting <strong>linear</strong> to true.</li>
        <li>Use <strong>showMessage</strong> method to display status information to the user with <strong>paper-toast</strong>.</li>
      </ul>
      <template>
        <style is="custom-style">
          paper-steps.red,
          paper-toggle-button.red {
            --primary-color: var(--paper-red-900);
            //can use --paper-step-primary-color or --primary-color
            --paper-step-primary-color: var(--paper-red-900);
            --paper-step-primary-disabled-color: var(--paper-red-200);
          }

          strong.green {
            color: var(--paper-green-900);
            font-style: italic;
          }
          strong.red {
            color: var(--paper-red-900);
            font-style: italic;
          }
          strong.yellow {
            color: var(--paper-yellow-800);
            font-style: italic;
          }
        </style>
        <p>
          <paper-toggle-button class="red third" checked >Horizontal</paper-toggle-button>
        </p>
        <paper-steps class="red third" linear>
          <paper-step label="Styles" editable>
            <h2>Override styles</h2>
            <p>
              A <strong class="red">500 Internal Error</strong> will be returned the first time this step's form is submitted with valid input.
            </p>
            <p>
              A <strong class="yellow">warning message</strong> will be displayed if the form is invalid.
            </p>
            <p>
              A <strong class="green">200 OK</strong> status will return returned for the second and any subsequent attempts.
            </p>
            <form is="iron-form" method="post" disable-native-validation-ui
              action="http://posttestserver.com/post.php?dir=paper-steps&dump&status_code=500" >
              <paper-input name="name" label="Name" placeholder="Enter your name here." required ></paper-input>
            </form>
          </paper-step >
          <paper-step label="Step #2">
            <h2>Another step</h2>
            <form is="iron-form" action="http://posttestserver.com/post.php?dir=paper-steps&dump" method="post">
              <paper-input name="profession" label="Profession" placeholder="What do you do for a living?" ></paper-input>
            </form>
          </paper-step>
          <paper-step label="Step #3" editable>
            <h2>Third step</h2>
            <form is="iron-form" action="http://posttestserver.com/post.php?dir=paper-steps&dump" method="post">
              <paper-textarea name="notes" label="Notes" placeholder="Provide additional details." maxlength="250"></paper-textarea>
            </form>
          </paper-step>
        </paper-steps>
        <script>
          var
            steps = document.querySelector('paper-steps.third'),
            button = document.querySelector('paper-toggle-button.third'),
            form = document.querySelector('paper-steps.third form[is="iron-form"]')
          ;

          button.addEventListener('iron-change', function(e) {
            if (steps.vertical == this.active) {
              steps.vertical = !this.active;
              steps._updateVertical();
            }
          });

          //Step #1 will return an HTTP error on the first submission attemp,
          //but then the next submit will succeed.
          form.addEventListener('iron-form-error', function(e) {
            var
              steps = document.querySelector('paper-steps.third'),
              request = e.detail
            ;
            this.action = this.action.replace(/status_code=\d+/i, '');

            if (request && request.error) {
              steps.showMessage(request.error);
            }
          });
          form.addEventListener('iron-form-invalid', function(e) {
            steps.showMessage("Invalid: Please check the form for errors.", 'warning');
          });
          form.addEventListener('iron-form-response', function(e) {
            var
              request = e.detail,
              status = request && request.status || 500
            ;

            if (status && status >= 200 && status < 300) {
              steps.showMessage("Success: " + request.statusText + ": " + status, 'success');
            }
          });
        </script>
      </template>
    </demo-snippet>
  </body>
</html>
